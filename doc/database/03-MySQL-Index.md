# MySQL索引及结构

![图片](https://img14.360buyimg.com/img/jfs/t29452/59/686026522/336309/7fa0c92e/5bfaa92bN91aaf166.jpg)

索引是一种用于快速查询和检索数据的数据结构

## 1. 索引介绍

索引的作用就相当于目录的作用。打个比方: 我们在查字典的时候，如果没有目录，那我们就只能一页一页的去找我们需要查的那个字，速度很慢。如果有目录了，我们只需要先去目录里查找字的位置，然后直接翻到那一页就行了

### 1.1. 优点

* 使用索引可以大大加快数据的检索速度（大大减少的检索的数据量），这也是创建索引的最主要的原因
* 通过创建唯一性索引，可以保证数据库表中每一行数据的唯一性

### 1.2. 缺点

* 创建索引和维护索引需要耗费许多时间。当对表中的数据进行增删改的时候，如果数据有索引，那么索引也需要动态的修改，会降低 SQL 执行效率
* 索引需要使用物理文件存储，也会耗费一定空间

数据库的索引是为了增加数据库查询的速度。但是也增加创建和维护时间，减慢写入速度

### 1.3. 总结

* 对于非常小的表、大部分情况下简单的全表扫描比建立索引更高效
* 对于中到大型的表，索引就非常有效
* 但是对于特大型的表，建立和维护索引的代价将会随之增长。这种情况下，需要用到一种技术可以直接区分出需要查询的一组数据，而不是一条记录一条记录地匹配，例如可以使用分区技术

索引是在存储引擎层实现的，而不是在服务器层实现的，所以不同存储引擎具有不同的索引类型和实现

## 2. 数据结构

待补充

<!-- 所以不同的数据库会采用不同的的索引方法:主要是因为内核引擎的不一致,所以数据库在数据结构上算法不一样, 常用的有BTree索引，B+Tree索引，哈希索引，全文索引。MySQL中最常见的两种存储引擎分别是MyISAM和InnoDB，FULLTEXT（全文）索引仅可用于MyISAM和InnoDB，只有memory（内存）存储引擎支持哈希索引。

BTree 的数据结构,从查阅到的数据,类是于二分法进行查找,采用二分法进行查找是非常节省时间的,如果是数据扩大256倍,用二分法查找也只会是原来时间的8倍.

B+Tree索引是BTree 的变种，在B+Tree结构都在经典BTree的基础上，增加了顺序访问指针指向相邻的叶子。因为B+Tree在空间上的处理会比BTree更优化，所以B+Tree更适合实现外部存储索引结构

全文索引

在大量的文本数据中去寻找少量的几个数据,会大大的增加响应时间,所以如果生成全文索引,生成文本单词清单,就快速很多。

哈希索引

哈希索引用索引列的值计算该值的hashCode，然后在hashCode相应的位置查找该值所在行数据的物理位置，使用散列算法，因此访问速度非常 -->

## 3. 索引类型

待补充

<!-- * 主键索引：主键是一种唯一性索引，但它必须指定为 `PRIMARY KEY`，每个表只能有一个主键
* 唯一索引：索引列的所有值都只能出现一次，即必须唯一，值可以为空
* 普通索引：基本的索引类型，值可以为空，没有唯一性的限制
* 全文索引：全文索引的索引类型为 `FULLTEXT`。全文索引可以在 `varchar、char、text` 类型的列上创建，`FULLTEXT` 用于搜索很长一篇文章的时候，效果最好
* 组合索引：指多个字段上创建的索引，只有在查询条件中使用了创建索引时的第一个字段，索引才会被使用 -->

**参考**

* [fullstack-tutorial - MySQL](https://github.com/frank-lam/fullstack-tutorial/blob/master/notes/MySQL.md)
* [CS-Notes - MySQL](https://github.com/CyC2018/CS-Notes/blob/master/notes/MySQL.md)
* [MySQL数据库索引](https://github.com/Snailclimb/JavaGuide/blob/master/docs/database/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.md)